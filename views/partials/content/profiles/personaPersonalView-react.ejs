<!DOCTYPE HTML>
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="HandheldFriendly" content="true">
    <title>NetID</title>
    <!--[if lte IE 8]><script src="css/ie/html5shiv.js"></script><![endif]-->
    <link rel="stylesheet" href="/stylesheets/socialPersona.css" />
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="/stylesheets/bootstrap-select.css">
    <link rel="stylesheet" href="/stylesheets/head.css" />
    <link rel="stylesheet" href="/stylesheets/dashboard.css"></link>
    <link rel="stylesheet" href="/stylesheets/footer.css">
    <script src="https://fb.me/react-0.13.3.js"></script>
    <script src="https://fb.me/JSXTransformer-0.13.3.js"></script>
    <!--[if lte IE 9]><link rel="stylesheet" href="css/ie/v9.css" /><![endif]-->
    <!--[if lte IE 8]><link rel="stylesheet" href="css/ie/v8.css" /><![endif]-->
</head>

<body>
    <% include ./../../template/head.ejs %>
        <div class="container-fluid">
            <div class="row">
                <section class="col-md-12 mainContent">
                    <div class="col-md-7 col-md-offset-1 socialContainer">
                        <div class="row">
                            <div class="col-md-12 orangeBar">
                            </div>
                            <div class="col-md-12 socialMainContent">
                                <div class="col-md-3">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="imageContainer">
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="col-md-12 ratings_container">
                                                <div class="persona_rating_container">
                                                    <div class="persona_rating"></div>
                                                    <p>Persona Rating</p>
                                                </div>
                                                <div class="col-md-12 persona_ratings_breakdown_container">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12"></div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="col-md-12 ratings_container">
                                                <div class="persona_rating_container master_rating_container">
                                                    <div class="master_rating"></div>
                                                    <p>Master Rating</p>
                                                </div>
                                                <div class="col-md-12 master_ratings_breakdown_container">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12"></div>
                                    </div>
                                </div>
                                <div class="col-md-9">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="postContainer">
                                                <input type="text" class="post_input" placeholder="Post something...">
                                                <button class="btn post_btn" onclick="newPost()">Share</button>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <ul class="nav nav-tabs orange_tabs persona_personal_tabs">
                                                <li class="active"><a data-toggle="tab" href="#posts_cntnr">Your Posts</a></li>
                                                <li><a data-toggle="tab" href="#about_you">About Your Persona</a></li>
                                                <li><a data-toggle="tab" href="#your_network">Your NetWork</a></li>
                                            </ul>
                                            <div class="tab-content persona_custom_width">
                                                <div id="posts_cntnr" class="tab-pane fade in active persona_tab">
                                                    <ul id="recent_posts"></ul>
                                                </div>
                                                <div id="about_you" class="tab-pane fade persona_tab">
                                                </div>
                                                <div id="your_network" class="tab-pane fade persona_tab">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2 sideBar">
                        <div class="row">
                            <div class="col-md-12 feedWidget">
                                <div class="col-md-12 feedHeader">
                                    <p>Feed</p>
                                </div>
                                <div class="col-md-12 feedMainContent">
                                    <p class="first">You posted a new picture.</p>
                                    <p class="first">You have a NetConnect Request.</p>
                                    <p class="first">You posted a new picture.</p>
                                    <p class="first">You have a NetConnect Request.</p>
                                </div>
                            </div>
                            <div class="col-md-12 chatWidget">
                                <div class="col-md-12 chatHeader">
                                    <p>Chat</p>
                                </div>
                                <div class="col-md-12 chatMainContent">
                                    <div id="chatFriends"></div>
                                    <br>
                                    <div class="input-group chatSearch">
                                        <span class="input-group-addon" id="sizing-addon2"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></span>
                                        <input type="text" class="form-control" placeholder="Username" aria-describedby="sizing-addon2">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <% include ./../../template/footer.ejs %>
            </div>
        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <script src="/javascripts/jquery.bootstrap.wizard.js"></script>
        <!-- <script src="js/bootstrap-select.js"></script> -->
        <!-- Latest compiled and minified JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
        <script src="/javascripts/bootstrap-select.js"></script>
        <!-- // <script src="/javascripts/persona_view.js"></script> -->
        <script type="text/javascript" src="/javascripts/persona_view_react.js"></script>
        <script type="text/javascript">
        // $(document).ready(function(){
        //     loadPosts();
        // });
        </script>
        <script type="text/jsx">
            var listStyle = {
                'marginTop': '2%',
                'fontSize': '0.9em',
                'fontWeight': 400,
            };
            var timeStyle = {
                
                'padding-bottom': '3%',
                'font-size': '0.8em',
                'color': 'grey'
            }
            var underline = {
                'border-bottom': '1px dashed grey',
                'color': 'grey'
            }
            var App = React.createClass({
                getInitialState: function(){
                    return {posts: your_posts}
                },
                render: function(){
                    var list = this.state.posts.map(function(post){
                        var posts = post.post;
                        var postTime = post.post_time;
                        var date = new Date(postTime);
                        var humanDate = date.toDateString();
                        return (
                            <div>
                            <li style={listStyle}>{posts}</li>
                                <span style={timeStyle}>{humanDate}</span>
                            <li style={underline}></li>
                            </div>
                        )
                    });
                    return (
                        <ul>
                            {list}
                        </ul>
                    )
                }
            });

            React.render(<App />, $('#recent_posts')); 
        </script>
</body>

</html>
